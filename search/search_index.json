{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Getting started","text":"<p>Welcome to the documentation for the No-Show prediction model. This project aims to prevent no-shows by calling high-risk patients before their appointments.</p>"},{"location":"#overview","title":"Overview","text":"<p>On this page, you will find information on how to install and use the No-Show prediction model. For information on the dataset used for training the model, please refer to the Dataset Card.</p> <p>The idea of a no-show prediction model was first implemented at the Erasmus MC, this project is based on their approach and features.</p>"},{"location":"#install-the-no-show-package","title":"Install the No-Show package","text":"<p>To install the No-Show package, first clone the repository and install the package using a package manager like pip or uv.</p> <p>clone the repository:</p> <pre><code>git clone https://github.com/UMCU-Digital-Health/No_Show.git\ncd No_Show\n</code></pre> <p>Then, install the package:</p> <pre><code>pip install -r requirements.txt\n</code></pre> <p>or using uv:</p> <pre><code>uv sync\n</code></pre>"},{"location":"#run-pipelines","title":"Run pipelines","text":"<p>To run the entire pipeline from data export to model training, you can use the <code>train_no_show</code> command (or <code>python src/noshow/train_pipeline.py</code>):</p> <pre><code>train_no_show --skip-export  # skip the export step if you already have the data\n</code></pre> <p>For more information on data used, check the dataset card here</p>"},{"location":"#run-the-api","title":"Run the API","text":"<p>To run the prediction API, which creates predictions for appointments, you can use the following command:</p> <pre><code>python run/app.py\n</code></pre>"},{"location":"#run-the-calling-dashboard","title":"Run the Calling Dashboard","text":"<p>The calling dashboard is a Streamlit application that allows users to view predictions and manage patient calls. To run the dashboard locally, use the following command:</p> <pre><code>streamlit run run/calling_dash.py\n</code></pre>"},{"location":"#run-the-admin-dashboard","title":"Run the Admin dashboard","text":"<p>The admin dashboard is a Streamlit application that allows users to check the performance of the application and call results. To run the dashboard locally, use the following command:</p> <pre><code>streamlit run run/admin_dash.py\n</code></pre>"},{"location":"dataset_card/","title":"Dataset card","text":""},{"location":"dataset_card/#dataset-description","title":"Dataset Description","text":"<ul> <li>Repository: https://github.com/UMCU-Digital-Health/No_Show</li> <li>Leaderboard: Current best model has an AUC of 0.76</li> <li>Point of Contact: Ruben Peters</li> </ul> <p>Based on the dataset card template from huggingface, which can be found here.</p>"},{"location":"dataset_card/#dataset-summary","title":"Dataset Summary","text":"<p>The dataset consists of all appointments created between January 2015 and June 2024. It combines data from different Data platform tables (modeled after FHIR), namely Encounter, HealthcareService, Location, Patient, and Patient_Address. It uses HealthCareService specialtycodes to filter on clinic and excludes appointments that are booked.</p>"},{"location":"dataset_card/#supported-tasks-and-leaderboards","title":"Supported Tasks and Leaderboards","text":"<ul> <li><code>Classification</code>: The dataset can be used to train a model for classifying no-shows at the clinics in the UMCU. Success on this task is typically measured by achieving a high AUC score. The performance of the best model is currently around 0.76.</li> </ul>"},{"location":"dataset_card/#languages","title":"Languages","text":"<p>The dataset is mostly Dutch. However, some columns (that follow FHIR standards) are in English.</p>"},{"location":"dataset_card/#dataset-structure","title":"Dataset Structure","text":""},{"location":"dataset_card/#data-instances","title":"Data Instances","text":"<p>The input data for the prediction is structured as follows:</p> <pre><code>{\n  \"APP_ID\": \"5678\",\n  \"pseudo_id\": \"1ch5k\",\n  \"hoofdagenda\": \"Revalidatie en Sport\",\n  \"hoofdagenda_id\": \"ZH0435\",\n  \"subagenda_id\": \"S1\",\n  \"specialty_code\": \"REV\",\n  \"soort_consult\": \"Controle fysiek\",\n  \"afspraak_code\": \"CG63\",\n  \"start\": \"1717232400000\",\n  \"end\": \"1717234200000\",\n  \"gearriveerd\": \"1717232590000\",\n  \"created\": \"1713366900000\",\n  \"minutesDuration\": \"30\",\n  \"status\": \"finished\",\n  \"status_code_original\": \"J\",\n  \"mutationReason_code\": null,\n  \"mutationReason_display\": null,\n  \"BIRTH_YEAR\": \"1994\",\n  \"address_postalCodeNumbersNL\": \"3994\",\n  \"name\": \"Q5\",\n  \"description\": \"receptie op Q5\",\n  \"name_text\": \"C. Kent\",\n  \"patient_id\": \"123456789\",\n  \"name_given1_callMe\": \"Clark\",\n  \"telecom1_value\": \"0683726384\",\n  \"telecom2_value\": \"112\",\n  \"telecom3_value\": null,\n  \"birthDate: \"679418100000\"\n  }\n</code></pre> <p>Every observation contains all the information of a single appointment. When predicting for a single appointment all the previous appointments of the patient also need to be included as they can be used for feature engineering. The last 6 fields are considered sensitive and are only stored for the purspose of calling and overwritten when a new prediction is made.</p>"},{"location":"dataset_card/#data-fields","title":"Data Fields","text":"<p>Below you can find the datafields present in the dataset. The datafields are the result of running the query on the dataplatform, most of the fields are the names from the columns in the data platform, some are changed in the query (like <code>HCS_ID</code>):</p> <ul> <li><code>APP_ID</code>: string with the identifier of the Appointment, for example <code>\"1573125974\"</code></li> <li><code>pseudo_id</code>: string of the hashed patient id, for example <code>\"JE994ND3Y30XN\"</code></li> <li><code>hoofdagenda</code>: string with the name of the main HiXagenda, for example <code>\"Cardiologie\"</code></li> <li><code>hoofdagenda_id</code>: string with the id of the main HiXagenda, for example <code>\"ZH0435\"</code></li> <li><code>subagenda_id</code>: string with the id of the subagenda, for example <code>\"S1\"</code></li> <li><code>specialty_code</code>: string with the specialty code of the HealthCareService, for example: <code>\"REV\"</code>, <code>\"KAP\"</code>, <code>\"SPO\"</code>, <code>\"LON\"</code></li> <li><code>soort_consult</code>: string with consult type, mainly used to filter out phone appointments, for example: <code>\"Telefonisch\"</code>, <code>\"Controle fysiek\"</code></li> <li><code>afspraakcode</code>: string with the code for <code>soort_consult</code>, for example: <code>\"GT91\"</code></li> <li><code>start</code>: UNIX timestamp in ms or ISO8601 formatted datetime with the start date of the appointment, for example: <code>1717232400000</code></li> <li><code>end</code>: UNIX timestamp in ms or ISO8601 formatted datetime with the end date of the appointment, for example: <code>1717234200000</code></li> <li><code>gearriveerd</code>: UNIX timestamp in ms or ISO8601 formatted datetime with the date of arrival of the patient, for example: <code>1717232590000</code></li> <li><code>created</code>: UNIX timestamp in ms with the creation date of the appointment, for example: <code>1713366900000</code></li> <li><code>minutesDuration</code>: integer indicating the duration of the appointment in minutes, for example: <code>30</code></li> <li><code>status</code>: string with the status of the appointment, for example: <code>\"planned\"</code> or <code>\"finished\"</code>.</li> <li><code>status_code_original</code>: string with the status of the appointent, for example: <code>\"J\"</code> or <code>\"N\"</code></li> <li><code>mutationReason_code</code>: string with the code of the reason of mutation, for example <code>null</code> or <code>\"N\"</code></li> <li><code>mutationReason_display</code>: string with the reason of mutation, for example: <code>\"No Show\"</code> or <code>null</code></li> <li><code>BIRTH_YEAR</code>: integer containing the birthyear of the patient, for example <code>1991</code></li> <li><code>address_postalCodeNumbersNL</code>: integer containing the first 4 digits of the postalcode of the patient, for example <code>3994</code></li> <li><code>name</code>: Code of the outpatient clinic reception. The first letter usually represents the area in the UMCU, for example: <code>\"Receptie 10A\"</code> only used during prediction </li> <li><code>description</code>: Description of the outpatient clinic reception, for example <code>\"receptie van cardiologie\"</code> only used during prediction</li> <li><code>name_text</code>: The name of the patient, for example <code>\"John H. Doe\"</code> only used during prediction</li> <li><code>patient_id</code>: The patient identifier number, for example <code>\"123456789\"</code> only used during prediction</li> <li><code>name_given1_callMe</code>: The first name of the patient, for example <code>\"John\"</code> only used during prediction</li> <li><code>telecom1_value</code>: The mobile phone number of the patient (if known), for example: <code>\"06-73496410\"</code> only used during prediction</li> <li><code>telecom2_value</code>: The home phone number of the patient (if known), for example: <code>\"0481-643995\"</code> only used during prediction</li> <li><code>telecom3_value</code>: The other phone number of the patient (if known), for example: <code>null</code> only used during prediction</li> <li><code>birthDate</code>: UNIX timestamp in ms or ISO8601 formatted datetime of the birthdate of the patient, needed for validation when calling, for example <code>679418100000</code> only used during prediction</li> </ul>"},{"location":"dataset_card/#data-splits","title":"Data Splits","text":"<p>The dataset is split in a train and test set by using the first 80% as training and the last 20% as test. During model training stratified group 5-fold cross validation is used on the training data. Using this cross validation technique ensures that a patient can never be both in the train and test fold at the same time. </p> <p>The sizes of the splits are as follows:</p> train test Total dataset 298142 74536"},{"location":"dataset_card/#dataset-creation","title":"Dataset Creation","text":""},{"location":"dataset_card/#curation-rationale","title":"Curation Rationale","text":"<p>The dataset is curated by the Data science team of Digital Health for the purpose of training a machine learning model to predict no-show at the outpatient clinics.</p>"},{"location":"dataset_card/#source-data","title":"Source Data","text":"<p>All data is extracted from the Data Platform maintained by the UMCU.</p>"},{"location":"dataset_card/#initial-data-collection-and-normalization","title":"Initial Data Collection and Normalization","text":"<p>Data is collected using a SQL query which can be found here. The postal codes are exported from here.</p>"},{"location":"dataset_card/#who-are-the-source-data-producers","title":"Who are the source data producers?","text":"<p>The data is collected from HiX, where most of the fields are filled in by humans, this means that datetimes fields can be misleading sometimes and different clinics use different codes. All the data that is used for declaring health care however should be properly filled, like the status of an appointment. </p> <p>The data consists of all patients of the participating clinics at the UMC Utrecht. The demographics of the data are therefore the patient groups that frequent the participating clinics. </p>"},{"location":"dataset_card/#annotations","title":"Annotations","text":"<p>The target variable of no-shows should be inferred from the data as follows: If the appointment was cancelled and the mutationReason_code is <code>\"N\"</code> than the status is no-show. All other observations are <code>show</code>.</p> <p>Appointments that have status <code>planned</code> or <code>in-progress</code> and are excluded from the train data. When predicting all appointments should have status <code>planned</code>, except for the historic predictions of the patients.</p>"},{"location":"dataset_card/#personal-and-sensitive-information","title":"Personal and Sensitive Information","text":"<p>The data contains identity categories like the birthyear, postalcode and information on the outpatient clinic where they have their appointment. The outpatient clinic data could be considered sensitive. Individuals can't be directly identified from the dataset, but when linking it to other datasets it might be possible to infer the individuals. Therefore this data is not shared outside the UMC Utrecht or with other departments within the UMCU. </p> <p>In an effort to increase the anonymity of the patients, only the birthyear is used instead of the birth date and the first 4 numbers of the postalcode. Another reason for only using the first 4 numbers of the postal code is to reduce bias in the model. Furthermore we use specialization instead of the specific clinic, so it is harder to infer which treatment the patient received. Finally to prevent identification on the patient identifier number, we hash the patient id with a salt.</p> <p>The data is not shared within or outside the UMCU and can only be accessed by the development team working on the no-show project.</p> <p>The prediction data does contain sensitive info, like the name and phone number of the patient. This is only used to call the patient and those data is removed after each day.</p>"},{"location":"dataset_card/#considerations-for-using-the-data","title":"Considerations for Using the Data","text":""},{"location":"dataset_card/#social-impact-of-dataset","title":"Social Impact of Dataset","text":"<p>The dataset could impact society by reducing waiting times for clinic appointments, by recuding the amount of no-shows. The negative effects of this dataset are minimal. It is not possible to deny patients care, the only personal negative effect.  Please discuss some of the ways you believe the use of this dataset will impact society.</p> <p>The statement should include both positive outlooks, such as outlining how technologies developed through its use may improve people's lives, and discuss the accompanying risks. These risks may range from making important decisions more opaque to people who are affected by the technology, to reinforcing existing harmful biases (whose specifics should be discussed in the next section), among other considerations.</p>"},{"location":"dataset_card/#discussion-of-biases","title":"Discussion of Biases","text":"<p>While a lot of care has been given to reducing (sensitive) personal data and focus mostly on behavioural data (number of no shows, minutes late for appointment etc.), it might still be possible to infer specific demographic information based on postalcode and age. </p> <p>The data has some inherent bias, namely the population consists of only those patients that have appointments at the UMCU. Since the UMCU is a university medical center that has certain specializations the population will not be a good representation of the entire population in the region. </p> <p>This data might therefore not scale well to other medical centers and is meant to be used only at the UMCU.</p>"},{"location":"dataset_card/#other-known-limitations","title":"Other Known Limitations","text":"<p>-</p>"},{"location":"dataset_card/#additional-information","title":"Additional Information","text":""},{"location":"dataset_card/#dataset-curators","title":"Dataset Curators","text":"<p>This dataset is collected by Ruben Peters with the help of Rosemarijn Looije.</p>"},{"location":"dataset_card/#licensing-information","title":"Licensing Information","text":"<p>This dataset has no license, since it's not meant to be shared.</p>"},{"location":"dataset_card/#citation-information","title":"Citation Information","text":"<p>-</p>"},{"location":"dataset_card/#contributions","title":"Contributions","text":"<p>Thanks to @ingmarloohuis and @rubenpeters91.</p>"},{"location":"model_card/","title":"Model card","text":""},{"location":"model_card/#model-card-for-no-show-prediction-model","title":"Model Card for No-Show Prediction Model","text":"<p>This model predicts whether a patient will not show up for a scheduled medical appointment based on historical appointment data.</p>"},{"location":"model_card/#model-details","title":"Model Details","text":""},{"location":"model_card/#model-description","title":"Model Description","text":"<p>This model uses patient appointment data to predict the likelihood of a no-show. It is intended to help healthcare providers optimize scheduling and reduce missed appointments.</p> <ul> <li>Developed by: R. Peters</li> <li>Model type: Classification (binary)</li> <li>Language(s) (NLP): N/A (tabular data)</li> <li>License: MIT</li> <li>Finetuned from model [optional]: N/A</li> </ul>"},{"location":"model_card/#model-sources-optional","title":"Model Sources [optional]","text":"<ul> <li>Repository: No_Show GitHub Repo</li> <li>Paper [optional]: TBA</li> </ul>"},{"location":"model_card/#uses","title":"Uses","text":""},{"location":"model_card/#direct-use","title":"Direct Use","text":"<p>The intended use of this model is to support the call center in prioritizing calls to patients who are at high risk of not attending their appointments. This can help reduce the number of missed appointments and improve patient care.</p>"},{"location":"model_card/#out-of-scope-use","title":"Out-of-Scope Use","text":"<p>Not suitable for use in clinical decision-making or for penalizing patients based on their predicted no-show risk. The model should not be used to deny care or access to services based on predictions.</p>"},{"location":"model_card/#bias-risks-and-limitations","title":"Bias, Risks, and Limitations","text":"<p>The model may reflect biases present in the historical appointment data, such as socioeconomic or demographic factors. Predictions should be interpreted with caution.</p>"},{"location":"model_card/#recommendations","title":"Recommendations","text":"<p>Users should be aware of potential biases and limitations. Furthermore, users should know that a high-risk prediction does not guarantee a no-show, and the model should be used as a tool to assist in decision-making rather than as a definitive judgment.</p>"},{"location":"model_card/#how-to-get-started-with-the-model","title":"How to Get Started with the Model","text":"<p>To use the No-Show prediction model, you can follow these steps: 1. Install the package: Use pip or uv to install the required dependencies. <pre><code>pip install -r requirements.txt\n</code></pre>    or <pre><code>uv sync\n</code></pre> 2. Run the training pipeline: Execute the training pipeline to train the model on your data. <pre><code>train_no_show --skip-export  # skip the export step if you already have the data\n</code></pre> 3. Make predictions using the API: Use the trained model to make predictions on new appointment data. <pre><code>python run/app.py\n</code></pre></p>"},{"location":"model_card/#training-details","title":"Training Details","text":""},{"location":"model_card/#training-data","title":"Training Data","text":"<p>The model was trained on appointment data including features such as age, gender, scheduled date, and previous no-shows. See dataset card for details.</p>"},{"location":"model_card/#training-procedure","title":"Training Procedure","text":"<p>Standard preprocessing steps were applied, including handling missing values and using cutoffs for certain features.</p>"},{"location":"model_card/#training-hyperparameters","title":"Training Hyperparameters","text":"<p>For the training of the model grid search was used to find the best hyperparameters. The following hyperparameters were used:</p> <ul> <li>Model type: HistGradientBoostingClassifier</li> <li>Hyperparameters:<ul> <li><code>max_iter</code>: 300</li> <li><code>learning_rate</code>: 0.05</li> </ul> </li> </ul>"},{"location":"model_card/#evaluation","title":"Evaluation","text":"<p>The model was evaluated using a held-out test set on AUC-ROC and calibration metrics. Furthermore the model was evaluated during a pilot and subsequently in a RCT study. Both the pilot and RCT indicated that the model in combination with calling patients is effective in reducing no-shows.</p>"},{"location":"model_card/#testing-data-factors-metrics","title":"Testing Data, Factors &amp; Metrics","text":""},{"location":"model_card/#testing-data","title":"Testing Data","text":"<p>See dataset card</p>"},{"location":"model_card/#metrics","title":"Metrics","text":"<p>AUC-ROC and calibration metrics were used to assess performance.</p>"},{"location":"model_card/#results","title":"Results","text":"<p>The model achieved an AUC-ROC of 0.77 on the test set and was well-calibrated.</p>"},{"location":"model_card/#environmental-impact-optional","title":"Environmental Impact [optional]","text":"<p>Since the model is trained and deployed on an on-premise server, the environmental impact is relatively low compared to cloud-based solutions. However, it is important to consider the carbon emissions associated with the hardware used for training and inference.</p>"},{"location":"model_card/#technical-specifications-optional","title":"Technical Specifications [optional]","text":""},{"location":"model_card/#model-architecture-and-objective","title":"Model Architecture and Objective","text":"<p>The model is a binary classifier trained on tabular data using scikit-learn.</p>"},{"location":"model_card/#compute-infrastructure","title":"Compute Infrastructure","text":"<p>Trained on a local machine used for development by the AI for Health team at UMC Utrecht.</p>"},{"location":"model_card/#hardware","title":"Hardware","text":"<p>The model can be trained on a standard laptop or desktop with sufficient RAM and CPU power. For larger datasets, a machine with more resources may be required.</p>"},{"location":"model_card/#software","title":"Software","text":"<p>See the requirements.txt and pyproject.toml files for the software dependencies required to run the model.</p>"},{"location":"model_card/#glossary-optional","title":"Glossary [optional]","text":"<ul> <li>No-show: A patient who does not attend a scheduled appointment or cancels/reschedules it within 24 hours of the appointment time.</li> </ul>"},{"location":"model_card/#more-information-optional","title":"More Information [optional]","text":"<p>See the repository README for further details.</p>"},{"location":"model_card/#model-card-authors-optional","title":"Model Card Authors [optional]","text":"<ul> <li>R. Peters</li> </ul>"},{"location":"model_card/#model-card-contact","title":"Model Card Contact","text":"<ul> <li>rpeters7@gmail.com</li> </ul>"}]}